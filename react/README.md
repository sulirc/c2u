# 设计笔记 // Design note

「一个现代的 Web 应用究竟是怎样跑起来的？」—— 在每天搬砖的日子里，我不禁想到 🤔。

当每天习惯使用 React 框架来开发应用，我们的思维也开始偷懒了。

框架是对应用开发的一种反转控制，它以一种通用（往往也是优秀）的设计规定了开发应用的大体思路。

比如 React，我们会习惯去写组件，然后定义组件与组件之间的关系，让数据流从上（树根）到下（树叶）流动，然后用数据驱动应用，而不用关心底层的 DOM 操作。为了性能优化，我们也会使用 useCallback、useMemo 等技术，抽象的将引用或计算结果复用。

说到底，大多时候我们不关心（甚至也不具体清楚）框架到底做了什么工作，以及是怎么做的。我们信任框架，愿意当框架的信徒（或奴隶）。

---

那么，假如时光倒流，React、Vue 等框架还没诞生，让我来设计一个开发 Web 应用的通用框架。

嗯，该如何设计呢？

数据是 Web 的本质，交互是应用的灵魂。因此如何完成数据的表达，如何满足丰富的交互，以及在此基础上，尽可能的简化框架，使其提供通用且优雅的 API。

这些都是难点。

粗糙的构想一个计数器的实现。

```js
function add(self, data) {
  data.count += 1;
}

const view = {
  data: {
    count: 0,
  },
  text: `{data.count}`
  action: [],
};

```
